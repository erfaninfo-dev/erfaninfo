# آزمون ترکیبی - Combined Tests Feature

## توضیحات
این قابلیت جدید به کاربران امکان می‌دهد تا به جای شرکت در یک آزمون تکی، چندین گرامر را انتخاب کرده و در یک آزمون ترکیبی شرکت کنند.

## ویژگی‌های اصلی

### 1. انتخاب نوع آزمون
- **آزمون تکی**: حالت پیش‌فرض که کارت‌های گرامر را نمایش می‌دهد
- **آزمون ترکیبی**: حالت جدید که کارت‌ها را مخفی کرده و چک‌باکس‌ها را نمایش می‌دهد

### 2. انتخاب گرامرها
- نمایش تمام گرامرهای موجود به صورت چک‌باکس
- دکمه‌های "انتخاب همه" و "حذف انتخاب همه"
- نمایش تعداد گرامرهای انتخاب شده در دکمه شروع

### 3. آزمون ترکیبی
- ترکیب سوالات از گرامرهای انتخاب شده
- 20 سوال تصادفی از هر گرامر انتخاب شده
- تمام سوالات نمایش داده می‌شوند (بدون محدودیت)
- سوالات بر اساس ترتیب آموزشی (order_num) مرتب می‌شوند

## فایل‌های اضافه شده/تغییر یافته

### فایل‌های جدید:
- `static/js/combined_tests.js` - منطق JavaScript برای آزمون ترکیبی
- `COMBINED_TESTS_README.md` - این فایل

### فایل‌های تغییر یافته:
- `templates/grammar_test.html` - اضافه کردن UI انتخاب نوع آزمون
- `static/css/style.css` - استایل‌های جدید برای UI
- `static/js/quiz.js` - پشتیبانی از آزمون ترکیبی
- `app.py` - API جدید برای دریافت سوالات ترکیبی

## API های جدید

### `/api/get-combined-test`
- **Method**: POST
- **Input**: 
  ```json
  {
    "grammars": ["Present Simple", "Past Simple", "Future"],
    "test_type": "combined"
  }
  ```
- **Output**:
  ```json
  {
    "success": true,
    "questions": [...],
    "title": "آزمون ترکیبی: Present Simple, Past Simple, Future",
    "selected_grammars": ["Present Simple", "Past Simple", "Future"],
    "total_questions": 15
  }
  ```

### `/combined-quiz`
- **Method**: GET
- **Description**: صفحه آزمون ترکیبی

## نحوه استفاده

1. کاربر به صفحه `/grammar_tests` می‌رود
2. بین "آزمون تکی" و "آزمون ترکیبی" انتخاب می‌کند
3. در حالت ترکیبی، گرامرهای مورد نظر را انتخاب می‌کند
4. روی "شروع آزمون ترکیبی" کلیک می‌کند
5. آزمون ترکیبی شروع می‌شود

## نکات فنی

- از `sessionStorage` برای انتقال داده‌های آزمون ترکیبی استفاده می‌شود
- برای هر گرامر انتخاب شده، 20 سوال تصادفی انتخاب می‌شود
- سوالات بر اساس `order_num` از کم به زیاد مرتب می‌شوند
- تمام سوالات گرامرهای انتخاب شده نمایش داده می‌شوند
- UI کاملاً ریسپانسیو است و در موبایل نیز کار می‌کند
- نمایش نام گرامر فعلی در حین آزمون

## تست کردن

1. سرور Flask را اجرا کنید: `python app.py`
2. به آدرس `http://localhost:5000/grammar_tests` بروید
3. حالت "آزمون ترکیبی" را انتخاب کنید
4. چندین گرامر را انتخاب کنید
5. آزمون را شروع کنید 