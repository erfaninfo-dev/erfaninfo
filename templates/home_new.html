{% extends 'base.html' %}

{% block title %}ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ{% endblock %}

{% block content %}
    <div class="home-header">
        <h1>Ø¨Ù‡ Ø³Ø§ÛŒØª Ø¢Ù…ÙˆØ²Ø´ÛŒ Ø¹Ø±ÙØ§Ù† Ø§ÛŒÙ†ÙÙˆ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯!</h1>
        <p class="home-desc">Ù…Ø³ÛŒØ± Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø±Ø§ÛŒ ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ Ø²Ø¨Ø§Ù† Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯.</p>
    </div>

    <div class="main-card-container">
        <div class="cards-row">
            {# Ú©Ø§Ø±Øª Û±: Ø«Ø¨Øª Ù†Ø§Ù… Ø¯Ø± Ø³Ø§ÛŒØª #}
            <a href="/signup" id="signup-card" class="e-card playing">
                <div class="image"></div>
                <div class="wave"></div>
                <div class="wave"></div>
                <div class="wave"></div>
                <div class="infotop">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="icon">
                        <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
                    </svg><br>
                    <span class="infotop-text" data-key="card-signup-title">Ø«Ø¨Øª Ù†Ø§Ù… Ø¯Ø± Ø³Ø§ÛŒØª</span>
                    <div class="name" data-key="card-signup-desc">Ø¹Ø¶ÙˆÛŒØª Ø±Ø§ÛŒÚ¯Ø§Ù† Ùˆ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø§Ù…Ú©Ø§Ù†Ø§Øª ÙˆÛŒÚ˜Ù‡</div>
                </div>
            </a>

            {# Ú©Ø§Ø±Øª Û²: ØªÙ…Ø±ÛŒÙ† Ú¯Ø±Ø§Ù…Ø± #}
            <a href="/grammar_tests" id="practice-card" class="e-card playing">
                <div class="image"></div>
                <div class="wave"></div>
                <div class="wave"></div>
                <div class="wave"></div>
                <div class="infotop">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="icon">
                        <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-2 15l-3.5-3.5 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"></path>
                    </svg><br>
                    <span class="infotop-text" data-key="card-grammar-title">ØªÙ…Ø±ÛŒÙ† Ú¯Ø±Ø§Ù…Ø±</span>
                    <div class="name" data-key="card-grammar-desc">Ø¯Ø§Ù†Ø´ Ú¯Ø±Ø§Ù…Ø± Ø®ÙˆØ¯ Ø±Ø§ Ø¨ÛŒØ§Ø²Ù…Ø§ÛŒÛŒØ¯.</div>
                </div>
            </a>

            {# Ú©Ø§Ø±Øª Û³: ØªØ³Øª ÙˆØ§Ú˜Ú¯Ø§Ù† #}
            <a href="/books_vocab" id="videos-card" class="e-card playing">
                <div class="image"></div>
                <div class="wave"></div>
                <div class="wave"></div>
                <div class="wave"></div>
                <div class="infotop">
                    <!-- Ø¢ÛŒÚ©Ù†: Ø®Ø·ÙˆØ· Ù…ØªÙ† + Ø­Ø±Ù A Ø¨Ø²Ø±Ú¯ -->
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="icon" aria-hidden="true">
                      <!-- Ø®Ø·ÙˆØ· Ø³Ù…Øª Ú†Ù¾ (Ø³ÙÛŒØ¯) -->
                      <rect x="2" y="3" width="12" height="2" rx="1" fill="#ffffff"/>
                      <rect x="2" y="9.5" width="9" height="2" rx="1" fill="#ffffff"/>
                      <rect x="2" y="16" width="7" height="2" rx="1" fill="#ffffff"/>
                      <!-- Ø­Ø±Ù A Ø¨Ø²Ø±Ú¯ Ø³Ù…Øª Ø±Ø§Ø³ØªØ› Ù‡Ù…â€ŒØ§Ø±ØªÙØ§Ø¹ Ø¨Ø§ Ø³Ù‡ Ø®Ø· -->
                      <text x="18" y="19" text-anchor="middle" font-size="18" font-weight="800" fill="currentColor" style="font-family: inherit;">A</text>
                    </svg><br>
                    <span class="infotop-text" data-key="card-videos-title">ØªÙ…Ø±ÛŒÙ† ÙˆØ§Ú˜Ú¯Ø§Ù†</span>
                    <div class="name" data-key="card-videos-desc">Ù„ØºØ§Øª Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø§ ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ ØªÙ‚ÙˆÛŒØª Ú©Ù†ÛŒØ¯.</div>
                </div>
            </a>

            {# Ú©Ø§Ø±Øª Û´: Ù†ØªØ§ÛŒØ¬ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†  #}
            <a href="/user_results" id="lessons-card" class="e-card playing">
                <div class="image"></div>
                <div class="wave"></div>
                <div class="wave"></div>
                <div class="wave"></div>
                <div class="infotop">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="icon">
                        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path>
                    </svg><br>
                    <span class="infotop-text" data-key="card-lessons-title">Ù†ØªØ§ÛŒØ¬ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†</span>
                    <div class="name" data-key="card-lessons-desc">Ø¢Ø®Ø±ÛŒÙ† Ù†ØªØ§ÛŒØ¬ ØªÙ…Ø±ÛŒÙ† Ù‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†</div>
                </div>
            </a>

            {# Ú©Ø§Ø±Øª Ûµ: Ø¢Ø®Ø±ÛŒÙ† Ù†ÙˆØ´ØªÙ‡â€ŒÙ‡Ø§ #}
            <a href="#latest-posts" id="posts-card" class="e-card playing">
                <div class="image"></div>
                <div class="wave"></div>
                <div class="wave"></div>
                <div class="wave"></div>
                <div class="infotop">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="icon">
                        <path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zM16 18H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"/>
                    </svg><br>
                    <span class="infotop-text" data-key="card-posts-title">Ø¢Ø®Ø±ÛŒÙ† Ù†ÙˆØ´ØªÙ‡â€ŒÙ‡Ø§</span>
                    <div class="name" data-key="card-posts-desc">Ù…Ù‚Ø§Ù„Ø§Øª Ùˆ Ù…Ø·Ø§Ù„Ø¨ Ø¢Ù…ÙˆØ²Ø´ÛŒ Ø¬Ø¯ÛŒØ¯</div>
                </div>
            </a>

            {# Ú©Ø§Ø±Øª Û¶: ÙˆÛŒØ¯ÛŒÙˆÙ‡Ø§ÛŒ Ø¢Ù…ÙˆØ²Ø´ÛŒ #}
            <a href="#video-slider" id="videos-educational-card" class="e-card playing">
                <div class="image"></div>
                <div class="wave"></div>
                <div class="wave"></div>
                <div class="wave"></div>
                <div class="infotop">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="icon">
                        <path d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"></path>
                    </svg><br>
                    <span class="infotop-text" data-key="card-videos-educational-title">ÙˆÛŒØ¯ÛŒÙˆÙ‡Ø§ÛŒ Ø¢Ù…ÙˆØ²Ø´ÛŒ</span>
                    <div class="name" data-key="card-videos-educational-desc">Ø¢Ù…ÙˆØ²Ø´ ØªØµÙˆÛŒØ±ÛŒ Ø²Ø¨Ø§Ù† Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ</div>
                </div>
            </a>
        </div>
    </div>

    <!-- Video Slider Section -->
    <section class="video-slider-section">
        <h2 class="section-title" data-key="section-title">ÙˆÛŒØ¯ÛŒÙˆÙ‡Ø§ÛŒ Ø¢Ù…ÙˆØ²Ø´ÛŒ</h2>
        <div class="video-slider-outer" style="position:relative;">
            <button class="custom-slider-prev" id="custom-slider-prev" type="button">
              <svg width="20" height="32" viewBox="0 0 20 32" fill="none" xmlns="http://www.w3.org/2000/svg" style="transform: scaleX(-1);">
            <path d="M6 6L16 16L6 26" stroke="#222" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
            </button>
        <div class="swiper video-swiper">
            <div class="swiper-wrapper">
                {% for video in videos %}
                <div class="swiper-slide">
                    <a href="{{ video.url }}" target="_blank" rel="noopener" class="video-card">
                        <img src="{{ video.thumb }}" alt="Video thumbnail" class="video-thumbnail">
                        </a>
                </div>
                {% endfor %}
            </div>
            </div>
            <button class="custom-slider-next" id="custom-slider-next" type="button">
              <svg width="20" height="32" viewBox="0 0 20 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 6L16 16L6 26" stroke="#222" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
        </div>
    </section>

    <!-- Ø¨Ø®Ø´ Ø¢Ø®Ø±ÛŒÙ† Ù†ÙˆØ´ØªÙ‡â€ŒÙ‡Ø§ - Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø¯Ø±Ù† -->
    <section class="latest-posts-section">
        <h2 class="section-title">ğŸ“ Ø¢Ø®Ø±ÛŒÙ† Ù†ÙˆØ´ØªÙ‡â€ŒÙ‡Ø§</h2>
        <div class="modern-cards-container">
            <!-- Ù…Ù‚Ø§Ù„Ø§Øª Ø¨Ù‡ ØµÙˆØ±Øª Ø¯Ø§ÛŒÙ†Ø§Ù…ÛŒÚ© Ø§Ø² API Ù„ÙˆØ¯ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ -->
            <div id="articles-container">
                <!-- Ù…Ù‚Ø§Ù„Ø§Øª Ø§ÛŒÙ†Ø¬Ø§ Ù„ÙˆØ¯ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ -->
            </div>
        </div>
    </section>



    <footer class="site-footer">
      <div class="footer-container">
        <div class="footer-cols">
          <!-- ÙÙ‚Ø· Ù„ÙˆÚ¯Ùˆ Ùˆ ØªÙˆØ¶ÛŒØ­Ø§Øª Ø³Ù…Øª Ø±Ø§Ø³Øª -->
          <div class="footer-col footer-logo-col">
            <img src="/static/images/logo.png" alt="Ù„ÙˆÚ¯Ùˆ" class="footer-logo" />
            <p class="footer-desc" data-key="footer-desc">Ø³Ø§ÛŒØª Ø¢Ù…ÙˆØ²Ø´ÛŒ Ø¹Ø±ÙØ§Ù† Ø§ÛŒÙ†ÙÙˆ<br>ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ Ø¢Ø³Ø§Ù† Ùˆ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ Ø²Ø¨Ø§Ù† Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ</p>
          </div>
        </div>
      </div>
    </footer>
{% endblock %}

{% block scripts %}
<script>
// Ù„ÙˆØ¯ Ú©Ø±Ø¯Ù† Ù…Ù‚Ø§Ù„Ø§Øª
function loadLatestArticles(lang = 'fa') {
    fetch(`/api/latest-articles/${lang}`)
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                const container = document.getElementById('articles-container');
                container.innerHTML = '';
                container.setAttribute('data-lang', lang);
                
                data.articles.forEach(article => {
                    const articleCard = `
                        <div class="modern-card" data-lang="${lang}">
                            <div class="card-header">
                                <h3 class="card-title">${article.title}</h3>
                                <div class="card-meta">
                                    <span class="post-time">â° ${article.time_ago}</span>
                                    <span class="post-views">ğŸ‘ï¸ ${article.views} ${translations[lang]['views']}</span>
                                </div>
                            </div>
                            <div class="card-content">
                                <p class="card-excerpt">
                                    ${article.excerpt}
                                </p>
                            </div>
                            <div class="card-footer">
                                <a href="/article/${article.id}/${article.slug}/${lang}" class="read-more-btn">${translations[lang]['read-more']}</a>
                                <div class="card-tags">
                                    ${article.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                                </div>
                            </div>
                        </div>
                    `;
                    container.innerHTML += articleCard;
                });
            } else {
                console.error('Ø®Ø·Ø§ Ø¯Ø± Ù„ÙˆØ¯ Ú©Ø±Ø¯Ù† Ù…Ù‚Ø§Ù„Ø§Øª:', data.error);
            }
        })
        .catch(error => {
            console.error('Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ù…Ù‚Ø§Ù„Ø§Øª:', error);
        });
}

// Ù„ÙˆØ¯ Ú©Ø±Ø¯Ù† Ù…Ù‚Ø§Ù„Ø§Øª Ø¯Ø± Ù‡Ù†Ú¯Ø§Ù… Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØµÙØ­Ù‡
document.addEventListener('DOMContentLoaded', function() {
    const currentLang = localStorage.getItem('siteLang') || 'fa';
    loadLatestArticles(currentLang);
});

// Ø²Ø¨Ø§Ù†â€ŒÙ‡Ø§ Ùˆ ØªØ±Ø¬Ù…Ù‡â€ŒÙ‡Ø§
const translations = {
  fa: {
    'main-title': 'Ø¨Ù‡ Ø³Ø§ÛŒØª Ø¢Ù…ÙˆØ²Ø´ÛŒ Ø¹Ø±ÙØ§Ù† Ø§ÛŒÙ†ÙÙˆ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯!',
    'main-desc': 'Ù…Ø³ÛŒØ± Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø±Ø§ÛŒ ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ Ø²Ø¨Ø§Ù† Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯.',
    'section-title': 'ÙˆÛŒØ¯ÛŒÙˆÙ‡Ø§ÛŒ Ø¢Ù…ÙˆØ²Ø´ÛŒ',
    'tests-title': 'ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ú¯Ø±Ø§Ù…Ø±',
    'tests-desc': 'Ù„Ø·ÙØ§Ù‹ ÛŒÚ©ÛŒ Ø§Ø² Ø¢Ø²Ù…ÙˆÙ†â€ŒÙ‡Ø§ÛŒ Ø²ÛŒØ± Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯.',
    'code-error': 'Ù„Ø·ÙØ§ Ú©Ø¯ Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯',
    'fullname-message': 'Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯',
    'fullname-placeholder': 'Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ',
    'start-btn': 'Ø´Ø±ÙˆØ¹',
    'card-posts-title': 'Ø¢Ø®Ø±ÛŒÙ† Ù†ÙˆØ´ØªÙ‡â€ŒÙ‡Ø§',
    'card-posts-desc': 'Ù…Ù‚Ø§Ù„Ø§Øª Ùˆ Ù…Ø·Ø§Ù„Ø¨ Ø¢Ù…ÙˆØ²Ø´ÛŒ Ø¬Ø¯ÛŒØ¯',
    'card-videos-educational-title': 'ÙˆÛŒØ¯ÛŒÙˆÙ‡Ø§ÛŒ Ø¢Ù…ÙˆØ²Ø´ÛŒ',
    'card-videos-educational-desc': 'Ø¢Ù…ÙˆØ²Ø´ ØªØµÙˆÛŒØ±ÛŒ Ø²Ø¨Ø§Ù† Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ',
    'card-signup-title': 'Ø«Ø¨Øª Ù†Ø§Ù… Ø¯Ø± Ø³Ø§ÛŒØª',
    'card-signup-desc': 'Ø¹Ø¶ÙˆÛŒØª Ø±Ø§ÛŒÚ¯Ø§Ù† Ùˆ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø§Ù…Ú©Ø§Ù†Ø§Øª ÙˆÛŒÚ˜Ù‡',
    'read-more': 'Ø§Ø¯Ø§Ù…Ù‡ Ù…Ø·Ù„Ø¨',
    'views': 'Ø¨Ø§Ø²Ø¯ÛŒØ¯',
    'time-ago': 'Ù¾ÛŒØ´',
    'days': 'Ø±ÙˆØ²',
    'hours': 'Ø³Ø§Ø¹Øª',
    'minutes': 'Ø¯Ù‚ÛŒÙ‚Ù‡',
    // ... Ø³Ø§ÛŒØ± Ú©Ù„ÛŒØ¯Ù‡Ø§
  },
  ku: {
    'main-title': 'Ø¨Û•Ø®ÛØ±Ø¨ÛÛŒØª Ø¨Û† Ù…Ø§ÚµÙ¾Û•Ú•ÛŒ ÙÛØ±Ú©Ø§Ø±ÛŒÛŒ Ø¹ÛŒØ±ÙØ§Ù† Ø¦ÛŒÙ†ÙÙˆ!',
    'main-desc': 'Ú•ÛÚ¯Ø§ÛŒ Ø®Û†Øª Ù‡Û•Ù„Ø¨Ú˜ÛØ± Ø¨Û† ÙÛØ±Ø¨ÙˆÙˆÙ†ÛŒ Ø²Ù…Ø§Ù†ÛŒ Ø¦ÛŒÙ†Ú¯Ù„ÛŒØ²ÛŒ.',
    'section-title': 'Ú¤ÛŒØ¯ÛŒÛ† ÙÛØ±Ú©Ø§Ø±ÛŒÛŒÛ•Ú©Ø§Ù†',
    'tests-title': 'ØªØ§Ù‚ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•Ú©Ø§Ù†ÛŒ Ú¯Ø±Ø§Ù…Û•Ø±',
    'tests-desc': 'ØªÚ©Ø§ÛŒÛ• ÛŒÛ•Ú©ÛÚ© Ù„Û• ØªØ§Ù‚ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•Ú©Ø§Ù† Ø®ÙˆØ§Ø±Û•ÙˆÛ• Ù‡Û•Ù„Ø¨Ú˜ÛØ±Û• Ø¨Û† Ø¯Û•Ø³ØªÙ¾ÛÚ©Ø±Ø¯Ù†.',
    'code-error': 'ØªÚ©Ø§ÛŒÛ• Ú©Û†Ø¯Û•Ú©Û•Øª Ø¨Ù†ÙˆÙˆØ³Û•',
    'fullname-message': 'Ù†Ø§ÙˆÛŒ ØªÛ•ÙˆØ§ÙˆØª Ø¨Ù†ÙˆÙˆØ³Û•',
    'fullname-placeholder': 'Ù†Ø§ÙˆÛŒ ØªÛ•ÙˆØ§Ùˆ',
    'start-btn': 'Ø¯Û•Ø³ØªÙ¾ÛÚ©Ø±Ø¯Ù†',
    'card-posts-title': 'Ø¯ÙˆØ§ØªØ±ÛŒÙ† Ù†ÙˆÙˆØ³Ø±Ø§ÙˆÛ•Ú©Ø§Ù†',
    'card-posts-desc': 'ÙˆØªØ§Ø± Ùˆ Ù…Ø§Ø¯Û•ÛŒ ÙÛØ±Ú©Ø§Ø±ÛŒÛŒ Ù†ÙˆÛ',
    'card-videos-educational-title': 'Ú¤ÛŒØ¯ÛŒÛ† ÙÛØ±Ú©Ø§Ø±ÛŒÛŒÛ•Ú©Ø§Ù†',
    'card-videos-educational-desc': 'ÙÛØ±Ú©Ø§Ø±ÛŒÛŒ ÙˆÛÙ†Û•ÛŒÛŒ Ø²Ù…Ø§Ù†ÛŒ Ø¦ÛŒÙ†Ú¯Ù„ÛŒØ²ÛŒ',
    'card-signup-title': 'ØªÛ†Ù…Ø§Ø±Ú©Ø±Ø¯Ù† Ù„Û• Ù…Ø§ÚµÙ¾Û•Ú•',
    'card-signup-desc': 'Ø¦Û•Ù†Ø¯Ø§Ù…Ø¨ÙˆÙˆÙ†ÛŒ Ø¨Û•Ø®Û†Ú•Ø§ÛŒÛŒ Ùˆ Ø¯Û•Ø³ØªÚ¯Û•ÛŒØ´ØªÙ† Ø¨Û• ØªØ§ÛŒØ¨Û•ØªÙ…Û•Ù†Ø¯ÛŒÛŒÛ•Ú©Ø§Ù†',
    'read-more': 'Ø²ÛŒØ§ØªØ± Ø¨Ø®ÙˆÛÙ†Û•ÙˆÛ•',
    'views': 'Ø¨ÛŒÙ†ÛŒÙ†',
    'time-ago': 'Ù„Û•Ù…Û•ÙˆØ¨Û•Ø±',
    'days': 'Ú•Û†Ú˜',
    'hours': 'Ú©Ø§ØªÚ˜Ù…ÛØ±',
    'minutes': 'Ø®ÙˆÙ„Û•Ú©',
    // ... Ø³Ø§ÛŒØ± Ú©Ù„ÛŒØ¯Ù‡Ø§
  },
  en: {
    'main-title': 'Welcome to Erfan Info Educational Website!',
    'main-desc': 'Choose your path to learn English.',
    'section-title': 'Educational Videos',
    'tests-title': 'Grammar Tests',
    'tests-desc': 'Please select one of the following tests to start.',
    'code-error': 'Please enter your code',
    'fullname-message': 'Enter your full name',
    'fullname-placeholder': 'Full Name',
    'start-btn': 'Start',
    'card-posts-title': 'Latest Posts',
    'card-posts-desc': 'New educational articles and content',
    'card-videos-educational-title': 'Educational Videos',
    'card-videos-educational-desc': 'Visual English language learning',
    'card-signup-title': 'Sign Up',
    'card-signup-desc': 'Free membership and access to special features',
    'read-more': 'Read More',
    'views': 'views',
    'time-ago': 'ago',
    'days': 'days',
    'hours': 'hours',
    'minutes': 'minutes',
    // ... Ø³Ø§ÛŒØ± Ú©Ù„ÛŒØ¯Ù‡Ø§
  }
};

function setLanguage(lang) {
  localStorage.setItem('siteLang', lang);
  // ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ
  const h1 = document.querySelector('.home-header h1');
  if (h1) h1.textContent = translations[lang]['main-title'];
  const homeDesc = document.querySelector('.home-desc');
  if (homeDesc) homeDesc.textContent = translations[lang]['main-desc'];
  const sectionTitle = document.querySelector('.section-title');
  if (sectionTitle) sectionTitle.textContent = translations[lang]['section-title'];
  
  // Ù„ÙˆØ¯ Ú©Ø±Ø¯Ù† Ù…Ù‚Ø§Ù„Ø§Øª Ø¨Ø§ Ø²Ø¨Ø§Ù† Ø¬Ø¯ÛŒØ¯
  loadLatestArticles(lang);
  // ØµÙØ­Ù‡ ØªØ³Øªâ€ŒÙ‡Ø§
  const testsTitle = document.querySelector('.tests-header h1');
  if (testsTitle) testsTitle.textContent = translations[lang]['tests-title'];
  const testsDesc = document.querySelector('.tests-desc');
  if (testsDesc) testsDesc.textContent = translations[lang]['tests-desc'];
  // Ù¾ÛŒØ§Ù… Ø®Ø·Ø§ Ú©Ø¯
  const codeError = document.getElementById('code-error-message');
  if (codeError) codeError.textContent = translations[lang]['code-error'];
  // Ù¾ÛŒØ§Ù… Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ
  const fullnameMsg = document.getElementById('fullname-message');
  if (fullnameMsg) fullnameMsg.textContent = translations[lang]['fullname-message'];
  // placeholder ØªÚ©Ø³Øª Ø¨Ø§Ú©Ø³ Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ
  const fullnameInput = document.getElementById('fullname-input');
  if (fullnameInput) fullnameInput.placeholder = translations[lang]['fullname-placeholder'];
  // Ø¯Ú©Ù…Ù‡ Ø´Ø±ÙˆØ¹
  const startBtn = document.getElementById('start-quiz-btn');
  if (startBtn) startBtn.textContent = translations[lang]['start-btn'];
  
  // Ú©Ø§Ø±Øª Ø¢Ø®Ø±ÛŒÙ† Ù†ÙˆØ´ØªÙ‡â€ŒÙ‡Ø§
  const postsTitle = document.querySelector('[data-key="card-posts-title"]');
  if (postsTitle) postsTitle.textContent = translations[lang]['card-posts-title'];
  const postsDesc = document.querySelector('[data-key="card-posts-desc"]');
  if (postsDesc) postsDesc.textContent = translations[lang]['card-posts-desc'];
  
  // Ú©Ø§Ø±Øª ÙˆÛŒØ¯ÛŒÙˆÙ‡Ø§ÛŒ Ø¢Ù…ÙˆØ²Ø´ÛŒ
  const videosEducationalTitle = document.querySelector('[data-key="card-videos-educational-title"]');
  if (videosEducationalTitle) videosEducationalTitle.textContent = translations[lang]['card-videos-educational-title'];
  const videosEducationalDesc = document.querySelector('[data-key="card-videos-educational-desc"]');
  if (videosEducationalDesc) videosEducationalDesc.textContent = translations[lang]['card-videos-educational-desc'];
  
  // Ú©Ø§Ø±Øª Ø«Ø¨Øª Ù†Ø§Ù…
  const signupTitle = document.querySelector('[data-key="card-signup-title"]');
  if (signupTitle) signupTitle.textContent = translations[lang]['card-signup-title'];
  const signupDesc = document.querySelector('[data-key="card-signup-desc"]');
  if (signupDesc) signupDesc.textContent = translations[lang]['card-signup-desc'];
}

function showLanguageModal() {
  document.getElementById('language-modal-overlay').style.display = 'flex';
  document.body.classList.add('blurred-bg');
}
function hideLanguageModal() {
  document.getElementById('language-modal-overlay').style.display = 'none';
  document.body.classList.remove('blurred-bg');
}

// Ø±ÙˆÛŒØ¯Ø§Ø¯ Ø§Ù†ØªØ®Ø§Ø¨ Ø²Ø¨Ø§Ù†
window.addEventListener('DOMContentLoaded', function() {
  let lang = localStorage.getItem('siteLang');
  if (!lang) {
    showLanguageModal();
  } else {
    setLanguage(lang);
  }
  document.getElementById('btn-fa').onclick = function() {
    setLanguage('fa');
    hideLanguageModal();
  };
  document.getElementById('btn-ku').onclick = function() {
    setLanguage('ku');
    hideLanguageModal();
  };
});

document.addEventListener('DOMContentLoaded', function() {
    window.videoSwiper = new Swiper('.video-swiper', {
        slidesPerView: 4,
        spaceBetween: 20,
        loop: false,
        slidesPerGroup: 1,
        autoplay: {
            delay: 3000,
            disableOnInteraction: false,
        },
        breakpoints: {
            0: {
                slidesPerView: 2,
            },
            640: {
                slidesPerView: 2,
            },
            768: {
                slidesPerView: 3,
            },
            1024: {
                slidesPerView: 4,
            },
        }
    });
    document.getElementById('custom-slider-next').addEventListener('click', function() {
        if (window.videoSwiper) {
            window.videoSwiper.slideNext();
        }
    });
    document.getElementById('custom-slider-prev').addEventListener('click', function() {
        if (window.videoSwiper) {
            window.videoSwiper.slidePrev();
        }
    });
});
</script>
{% endblock %}